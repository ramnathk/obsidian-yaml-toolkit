<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Advanced Techniques | YAML Toolkit for Obsidian</title>
    <meta name="description" content="Bulk manipulate YAML front matter with condition-based rules and preview">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/obsidian-yaml-toolkit/assets/style.4W_5B1Cd.css" as="style">
    <link rel="preload stylesheet" href="/obsidian-yaml-toolkit/vp-icons.css" as="style">
    
    <script type="module" src="/obsidian-yaml-toolkit/assets/app.CrGN6oPW.js"></script>
    <link rel="preload" href="/obsidian-yaml-toolkit/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/obsidian-yaml-toolkit/assets/chunks/theme.CbfF-dzH.js">
    <link rel="modulepreload" href="/obsidian-yaml-toolkit/assets/chunks/framework.CKCMYuxR.js">
    <link rel="modulepreload" href="/obsidian-yaml-toolkit/assets/guide_advanced-techniques.md.3P2ecMeP.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/obsidian-yaml-toolkit/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>YAML Toolkit for Obsidian</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/obsidian-yaml-toolkit/" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/obsidian-yaml-toolkit/guide/getting-started.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Guide</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/obsidian-yaml-toolkit/reference/quick-reference.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Reference</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ramnathk/obsidian-yaml-toolkit" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/ramnathk/obsidian-yaml-toolkit" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Getting Started</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/getting-started.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/installation.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/quick-start.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Quick Start</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Core Concepts</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/file-selection.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>File Selection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/actions.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Actions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/rules.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Saved Rules</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>Advanced</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/advanced-techniques.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Advanced Techniques</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/advanced-queries.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Complex Queries</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/obsidian-yaml-toolkit/guide/batch-operations.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Batch Operations</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _obsidian-yaml-toolkit_guide_advanced-techniques" data-v-39a288b8><div><h1 id="advanced-techniques" tabindex="-1">Advanced Techniques <a class="header-anchor" href="#advanced-techniques" aria-label="Permalink to &quot;Advanced Techniques&quot;">​</a></h1><p>Master powerful patterns and techniques for complex YAML manipulation.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>This guide covers advanced techniques that combine multiple features for sophisticated frontmatter management. These patterns are useful for power users working with complex data structures.</p><div class="tip custom-block"><p class="custom-block-title">For Power Users</p><p>These techniques assume familiarity with basic operations. Start with <a href="/obsidian-yaml-toolkit/guide/file-selection.html">File Selection</a> and <a href="/obsidian-yaml-toolkit/guide/actions.html">Actions</a> if you&#39;re new to the plugin.</p></div><h2 id="deep-nesting-strategies" tabindex="-1">Deep Nesting Strategies <a class="header-anchor" href="#deep-nesting-strategies" aria-label="Permalink to &quot;Deep Nesting Strategies&quot;">​</a></h2><h3 id="navigating-complex-hierarchies" tabindex="-1">Navigating Complex Hierarchies <a class="header-anchor" href="#navigating-complex-hierarchies" aria-label="Permalink to &quot;Navigating Complex Hierarchies&quot;">​</a></h3><p>Work with multi-level structures efficiently using path expressions.</p><p><strong>Pattern: Drilling Down</strong></p><p>Access deeply nested values without intermediate variables:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Access pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">config.api.endpoints[0].rateLimit.perMinute</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Condition pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">metadata.author.profile.settings.notifications.email = true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Update pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET projects[0].milestones[2].tasks[-1].status &quot;completed&quot;</span></span></code></pre></div><p><strong>Pattern: Array of Objects Navigation</strong></p><p>Navigate through nested arrays of structured data:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Teams → Members → Skills pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">teams[0].members[3].skills[-1]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Projects → Phases → Tasks pattern</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">projects[2].phases[1].tasks[0].assignee</span></span></code></pre></div><p><strong>Best Practices</strong>:</p><ul><li>Start with outermost level and work inward</li><li>Use negative indexing for &quot;last item&quot; access</li><li>Validate intermediate paths exist with <code>HAS</code> checks</li><li>Combine with type checking for data validation</li></ul><h3 id="error-safe-deep-access" tabindex="-1">Error-Safe Deep Access <a class="header-anchor" href="#error-safe-deep-access" aria-label="Permalink to &quot;Error-Safe Deep Access&quot;">​</a></h3><p>Protect against missing intermediate paths:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Problem: Breaks if config.server doesn&#39;t exist</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">config.server.database.host = &quot;localhost&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Solution 1: Check existence</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HAS config.server AND config.server.database.host = &quot;localhost&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Solution 2: Create structure first</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">SET config.server.database {host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;localhost&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">5432}</span></span></code></pre></div><h2 id="pattern-matching-mastery" tabindex="-1">Pattern Matching Mastery <a class="header-anchor" href="#pattern-matching-mastery" aria-label="Permalink to &quot;Pattern Matching Mastery&quot;">​</a></h2><h3 id="advanced-regular-expressions" tabindex="-1">Advanced Regular Expressions <a class="header-anchor" href="#advanced-regular-expressions" aria-label="Permalink to &quot;Advanced Regular Expressions&quot;">​</a></h3><p>Go beyond basic string replacement with powerful regex patterns.</p><p><strong>Case-Insensitive Replacement</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Strip titles regardless of case</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE author /dr\.?\s+/i &quot;&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Results:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;Dr. Smith&quot; → &quot;Smith&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;dr Smith&quot; → &quot;Smith&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;DR. SMITH&quot; → &quot;Smith&quot;</span></span></code></pre></div><p><strong>Pattern Extraction</strong></p><p>Extract specific parts of strings:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Extract year from filename</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE title /^.*(\d{4}).*$/ &quot;$1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;project-report-2024-final&quot; → &quot;2024&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Extract domain from email</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE contact /@(.+)$/ &quot;$1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;alice@example.com&quot; → &quot;example.com&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Extract first word</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE title /^(\w+).*$/ &quot;$1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;My Long Document Title&quot; → &quot;My&quot;</span></span></code></pre></div><p><strong>Whitespace Normalization</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Collapse multiple spaces to single space</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE content /\s+/g &quot; &quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;Too   many    spaces&quot; → &quot;Too many spaces&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove leading/trailing whitespace</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE title /^\s+|\s+$/g &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;  Title  &quot; → &quot;Title&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove all whitespace</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE code /\s+/g &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;function   name ( )&quot; → &quot;functionname()&quot;</span></span></code></pre></div><p><strong>Complex Character Removal</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove leading/trailing dashes and spaces</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE title /^[-\s]+|[-\s]+$/g &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;  -- My Title --  &quot; → &quot;My Title&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove special characters except spaces</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE filename /[^a-zA-Z0-9\s]/g &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;My-File_Name#2!&quot; → &quot;MyFileName2&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Sanitize for URL slugs</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE slug /[^a-z0-9]+/g &quot;-&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;My Article Title!&quot; → &quot;my-article-title&quot;</span></span></code></pre></div><p><strong>Advanced Capture Groups</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Reorder date format</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE date /(\d{4})-(\d{2})-(\d{2})/ &quot;$2/$3/$1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;2025-01-15&quot; → &quot;01/15/2025&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Extract and reformat phone number</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE phone /(\d{3})(\d{3})(\d{4})/ &quot;($1) $2-$3&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;5551234567&quot; → &quot;(555) 123-4567&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Swap first and last name</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">REPLACE author /^(\w+)\s+(\w+)$/ &quot;$2, $1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># &quot;John Smith&quot; → &quot;Smith, John&quot;</span></span></code></pre></div><h2 id="precision-positioning" tabindex="-1">Precision Positioning <a class="header-anchor" href="#precision-positioning" aria-label="Permalink to &quot;Precision Positioning&quot;">​</a></h2><h3 id="relative-array-manipulation" tabindex="-1">Relative Array Manipulation <a class="header-anchor" href="#relative-array-manipulation" aria-label="Permalink to &quot;Relative Array Manipulation&quot;">​</a></h3><p>Move and insert items with surgical precision.</p><p><strong>Pattern: Insert After Planning</strong></p><p>Place urgent items right after planning phase:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Scenario: Sprint workflow</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ANY tasks WHERE priority = &quot;critical&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE priority = &quot;critical&quot; MOVE TO AFTER type = &quot;planning&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Result: Critical tasks execute immediately after planning</span></span></code></pre></div><p><strong>Pattern: Group By Category</strong></p><p>Organize items by moving related entries together:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Move all setup tasks to start</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE category = &quot;setup&quot; MOVE TO START</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Move all cleanup tasks to end</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE category = &quot;cleanup&quot; MOVE TO END</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Group documentation tasks after setup</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE category = &quot;documentation&quot; MOVE TO AFTER category = &quot;setup&quot;</span></span></code></pre></div><p><strong>Pattern: Enforce Workflow Order</strong></p><p>Maintain process dependencies:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ensure QA comes before deployment</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR steps WHERE name = &quot;QA&quot; MOVE TO BEFORE name = &quot;Deployment&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Ensure testing follows development</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR phases WHERE name = &quot;Testing&quot; MOVE TO AFTER name = &quot;Development&quot;</span></span></code></pre></div><p><strong>Pattern: Priority Insertion</strong></p><p>Insert high-priority items at strategic positions:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># High priority after planning, before execution</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR items WHERE priority &gt; 8 MOVE TO AFTER phase = &quot;planning&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Urgent items to immediate start</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR items WHERE urgent = true MOVE TO START</span></span></code></pre></div><h3 id="negative-index-strategies" tabindex="-1">Negative Index Strategies <a class="header-anchor" href="#negative-index-strategies" aria-label="Permalink to &quot;Negative Index Strategies&quot;">​</a></h3><p>Access and modify array ends without knowing length.</p><p><strong>Pattern: Process Recent Entries</strong></p><p>Work with the most recent items in logs or histories:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Mark last 3 entries as reviewed</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR history[-3] SET reviewed true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR history[-2] SET reviewed true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR history[-1] SET reviewed true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Update last task</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tasks[-1].status = &quot;pending&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks[-1] SET status &quot;active&quot;, started &quot;{{today}}&quot;</span></span></code></pre></div><p><strong>Pattern: Insert Before Last</strong></p><p>Maintain a &quot;final&quot; item at the end:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Keep &quot;summary&quot; as last tag</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags INSERT &quot;important&quot; AT -2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Before:  [project, active, summary]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># After:   [project, active, important, summary]</span></span></code></pre></div><p><strong>Pattern: Remove Recent Items</strong></p><p>Clean up recent entries:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove last 2 items if over 100 total</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">history.length &gt; 100</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR history WHERE ... REMOVE</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Remove specific recent items</span></span></code></pre></div><h2 id="complex-conditions-logic" tabindex="-1">Complex Conditions &amp; Logic <a class="header-anchor" href="#complex-conditions-logic" aria-label="Permalink to &quot;Complex Conditions &amp; Logic&quot;">​</a></h2><h3 id="operator-precedence" tabindex="-1">Operator Precedence <a class="header-anchor" href="#operator-precedence" aria-label="Permalink to &quot;Operator Precedence&quot;">​</a></h3><p>Understand how conditions are evaluated.</p><p><strong>Default Precedence: AND before OR</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>field1 = &quot;a&quot; OR field2 = &quot;b&quot; AND field3 = &quot;c&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span># Parsed as:</span></span>
<span class="line"><span>field1 = &quot;a&quot; OR (field2 = &quot;b&quot; AND field3 = &quot;c&quot;)</span></span></code></pre></div><p><strong>Using Parentheses for Clarity</strong></p><p>Control evaluation order explicitly:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Group OR first, then AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(status = &quot;draft&quot; OR status = &quot;review&quot;) AND HAS assignee</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Multiple levels of grouping</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">((priority &gt; 7 OR urgent = true) AND HAS deadline) OR status = &quot;critical&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Complex real-world example</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(tags contains &quot;important&quot; AND created_date &gt; &quot;2025-01-01&quot;) OR</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(status = &quot;active&quot; AND (priority &gt; 8 OR deadline &lt; &quot;{{today}}&quot;))</span></span></code></pre></div><h3 id="multi-condition-workflows" tabindex="-1">Multi-Condition Workflows <a class="header-anchor" href="#multi-condition-workflows" aria-label="Permalink to &quot;Multi-Condition Workflows&quot;">​</a></h3><p>Combine multiple checks for sophisticated filtering.</p><p><strong>Pattern: Quality Gate</strong></p><p>Ensure multiple conditions before processing:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All criteria must be met</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(status = &quot;draft&quot; AND HAS tags AND tags.length &gt;= 3) AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           (word_count &gt; 500 AND word_count &lt; 5000) AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           (HAS author AND author != &quot;&quot;)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET status &quot;ready-for-review&quot;, SET reviewed_date &quot;{{today}}&quot;</span></span></code></pre></div><p><strong>Pattern: Flexible Matching</strong></p><p>Match any of several valid states:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Any of these states is acceptable</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status IN [&quot;draft&quot;, &quot;review&quot;, &quot;pending&quot;] AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           (HAS assignee OR HAS team)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags APPEND &quot;in-progress&quot;</span></span></code></pre></div><p><strong>Pattern: Exclude Multiple States</strong></p><p>Filter out unwanted items:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Exclude archived or deleted</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NOT (status = &quot;archived&quot; OR status = &quot;deleted&quot;) AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           NOT tags contains &quot;obsolete&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags APPEND &quot;active&quot;</span></span></code></pre></div><h3 id="quantifier-patterns" tabindex="-1">Quantifier Patterns <a class="header-anchor" href="#quantifier-patterns" aria-label="Permalink to &quot;Quantifier Patterns&quot;">​</a></h3><p>Use ANY/ALL for sophisticated array queries.</p><p><strong>Pattern: Nested Verification</strong></p><p>Check conditions in nested structures:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All projects have at least one active task</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ALL projects WHERE ANY tasks WHERE status = &quot;active&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Any team has all members verified</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ANY teams WHERE ALL members WHERE verified = true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Complex nested check</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ANY projects WHERE</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           (ALL milestones WHERE completed = true) AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           (ANY tasks WHERE priority &gt; 7)</span></span></code></pre></div><p><strong>Pattern: Existence Check</strong></p><p>Verify items exist with specific properties:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Has at least one high-priority task</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ANY tasks WHERE priority &gt; 8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All tasks are assigned</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ALL tasks WHERE HAS assignee</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># No pending critical items (safety check)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NOT ANY items WHERE priority = &quot;critical&quot; AND status = &quot;pending&quot;</span></span></code></pre></div><h2 id="bulk-operations-workflows" tabindex="-1">Bulk Operations &amp; Workflows <a class="header-anchor" href="#bulk-operations-workflows" aria-label="Permalink to &quot;Bulk Operations &amp; Workflows&quot;">​</a></h2><h3 id="multi-step-transformations" tabindex="-1">Multi-Step Transformations <a class="header-anchor" href="#multi-step-transformations" aria-label="Permalink to &quot;Multi-Step Transformations&quot;">​</a></h3><p>Execute complex workflows in a single action.</p><p><strong>Pattern: Complete Workflow</strong></p><p>Perform entire process in one operation:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Project completion workflow</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET status &quot;completed&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET completed_date &quot;{{now}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks WHERE status != &quot;done&quot; SET status &quot;cancelled&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks WHERE status = &quot;done&quot; MOVE TO END,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags REMOVE_ALL [&quot;in-progress&quot;, &quot;pending&quot;],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags APPEND &quot;archived&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET archived_date &quot;{{today}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        INCREMENT projects_completed 1</span></span></code></pre></div><p><strong>Pattern: Data Normalization</strong></p><p>Clean and standardize data:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Normalize tags and metadata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags DEDUPLICATE,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags SORT ASC,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags WHERE ... REPLACE /\s+/g &quot;-&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET tags_normalized true,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET normalized_date &quot;{{today}}&quot;</span></span></code></pre></div><p><strong>Pattern: Conditional Cascade</strong></p><p>Apply multiple transformations conditionally:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Review workflow with cascading updates</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status = &quot;pending-review&quot; AND review_count &lt; 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">INCREMENT review_count 1,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags APPEND &quot;under-review&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET last_review_date &quot;{{today}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        FOR history APPEND {date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{now}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;review-started&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR reviewers WHERE status = &quot;available&quot; SET status &quot;assigned&quot;</span></span></code></pre></div><h3 id="batch-processing-patterns" tabindex="-1">Batch Processing Patterns <a class="header-anchor" href="#batch-processing-patterns" aria-label="Permalink to &quot;Batch Processing Patterns&quot;">​</a></h3><p>Efficiently process multiple items.</p><p><strong>Pattern: Selective Updates</strong></p><p>Update specific items based on multiple criteria:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Update overdue high-priority tasks</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ANY tasks WHERE priority &gt; 7 AND deadline &lt; &quot;{{today}}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE priority &gt; 7 AND deadline &lt; &quot;{{today}}&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET status &quot;overdue&quot;, flagged true,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks WHERE priority &gt; 7 AND deadline &lt; &quot;{{today}}&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        MOVE TO START,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET needs_attention true</span></span></code></pre></div><p><strong>Pattern: Progressive Enhancement</strong></p><p>Add metadata progressively:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Enhance metadata over multiple rules</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rule 1: Add basic metadata</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET processed true, SET processed_date &quot;{{today}}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rule 2: Add counts (separate rule)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET tag_count &quot;{{tags.length}}&quot;, SET has_tags true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rule 3: Add derived data (separate rule)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET category &quot;{{tags[0]}}&quot;, SET primary_tag &quot;{{tags[0]}}&quot;</span></span></code></pre></div><h2 id="performance-optimization" tabindex="-1">Performance Optimization <a class="header-anchor" href="#performance-optimization" aria-label="Permalink to &quot;Performance Optimization&quot;">​</a></h2><h3 id="efficient-condition-design" tabindex="-1">Efficient Condition Design <a class="header-anchor" href="#efficient-condition-design" aria-label="Permalink to &quot;Efficient Condition Design&quot;">​</a></h3><p>Write conditions that minimize processing.</p><p><strong>Do:</strong></p><ul><li>Use specific conditions first: <code>status = &quot;draft&quot;</code> before complex checks</li><li>Check existence before accessing: <code>HAS tags AND tags.length &gt; 0</code></li><li>Use type checking: <code>priority :number</code> before comparisons</li><li>Exit early with OR: <code>status = &quot;skip&quot; OR ...</code> (short-circuit)</li></ul><p><strong>Don&#39;t:</strong></p><ul><li>Avoid redundant checks: <code>HAS field AND field exists</code> (redundant)</li><li>Don&#39;t nest deeply unnecessarily: Flatten where possible</li><li>Avoid complex regex in conditions: Use simple string checks</li></ul><h3 id="action-optimization" tabindex="-1">Action Optimization <a class="header-anchor" href="#action-optimization" aria-label="Permalink to &quot;Action Optimization&quot;">​</a></h3><p><strong>Combine Related Actions:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Good: Combined</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET status &quot;done&quot;, SET completed &quot;{{today}}&quot;, INCREMENT count 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Bad: Separate rules</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rule 1: SET status &quot;done&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rule 2: SET completed &quot;{{today}}&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Rule 3: INCREMENT count 1</span></span></code></pre></div><p><strong>Order Actions Strategically:</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Process order matters</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags DEDUPLICATE,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          # 1. Remove dupes first</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags SORT ASC,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              # 2. Then sort</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags WHERE ... REMOVE,</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 3. Then remove unwanted</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET tags_processed true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">         # 4. Finally mark processed</span></span></code></pre></div><h2 id="edge-cases-gotchas" tabindex="-1">Edge Cases &amp; Gotchas <a class="header-anchor" href="#edge-cases-gotchas" aria-label="Permalink to &quot;Edge Cases &amp; Gotchas&quot;">​</a></h2><h3 id="common-pitfalls" tabindex="-1">Common Pitfalls <a class="header-anchor" href="#common-pitfalls" aria-label="Permalink to &quot;Common Pitfalls&quot;">​</a></h3><p><strong>Pitfall: Assuming Field Exists</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Bad: Breaks if views doesn&#39;t exist</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">INCREMENT views 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Good: Check first or create</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HAS views</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">INCREMENT views 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or: Create with default</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET views 0, INCREMENT views 1</span></span></code></pre></div><p><strong>Pitfall: Type Assumptions</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Bad: Assumes tags is array</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags APPEND &quot;new&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Good: Verify type</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tags :array</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags APPEND &quot;new&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Or: Normalize first</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tags !:array AND HAS tags</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET tags [&quot;{{fm:tags}}&quot;]</span></span></code></pre></div><p><strong>Pitfall: Empty vs Missing</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Bad: Doesn&#39;t distinguish</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NOT HAS tags</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Good: Be explicit</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NOT HAS tags</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">              # Field doesn&#39;t exist</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tags empty</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                # Field exists but is []</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tags :null</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                # Field exists but is null</span></span></code></pre></div><h3 id="advanced-safety-patterns" tabindex="-1">Advanced Safety Patterns <a class="header-anchor" href="#advanced-safety-patterns" aria-label="Permalink to &quot;Advanced Safety Patterns&quot;">​</a></h3><p><strong>Pattern: Defensive Checks</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Verify before complex operations</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HAS projects AND projects :array AND projects.length &gt; 0 AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           ANY projects WHERE HAS tasks AND tasks :array</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR projects WHERE ... SET ...</span></span></code></pre></div><p><strong>Pattern: Graceful Degradation</strong></p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Provide fallbacks</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">HAS metadata.author.name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET display_name &quot;{{fm:metadata.author.name}}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Separate rule for fallback</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">NOT HAS metadata.author.name</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET display_name &quot;Unknown&quot;</span></span></code></pre></div><h2 id="real-world-scenarios" tabindex="-1">Real-World Scenarios <a class="header-anchor" href="#real-world-scenarios" aria-label="Permalink to &quot;Real-World Scenarios&quot;">​</a></h2><h3 id="scenario-project-management" tabindex="-1">Scenario: Project Management <a class="header-anchor" href="#scenario-project-management" aria-label="Permalink to &quot;Scenario: Project Management&quot;">​</a></h3><p>Complete project lifecycle management:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Initialize new project</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status = &quot;new&quot; AND NOT HAS project_id</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET project_id &quot;{{now}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET created_date &quot;{{today}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET status &quot;planning&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags APPEND &quot;project&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Start active work</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status = &quot;planning&quot; AND ALL tasks WHERE HAS assignee</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET status &quot;in-progress&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET start_date &quot;{{today}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks WHERE status = &quot;pending&quot; SET status &quot;active&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Complete project</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status = &quot;in-progress&quot; AND ALL tasks WHERE status = &quot;done&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET status &quot;completed&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET completed_date &quot;{{today}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks MOVE TO END,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags REMOVE_ALL [&quot;active&quot;, &quot;in-progress&quot;],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags APPEND &quot;archived&quot;</span></span></code></pre></div><h3 id="scenario-content-management" tabindex="-1">Scenario: Content Management <a class="header-anchor" href="#scenario-content-management" aria-label="Permalink to &quot;Scenario: Content Management&quot;">​</a></h3><p>Article lifecycle and metadata management:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Tag drafts needing review</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status = &quot;draft&quot; AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           word_count &gt; 1000 AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           HAS tags AND tags.length &gt;= 3 AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           NOT tags contains &quot;needs-review&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tags APPEND &quot;needs-review&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET review_requested &quot;{{today}}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Publish ready content</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">status = &quot;reviewed&quot; AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           ALL reviewers WHERE approved = true AND</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           HAS featured_image</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">SET status &quot;published&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET published_date &quot;{{today}}&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags REMOVE &quot;needs-review&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tags APPEND &quot;published&quot;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        FOR history APPEND {date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{{now}}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;published&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="scenario-task-management" tabindex="-1">Scenario: Task Management <a class="header-anchor" href="#scenario-task-management" aria-label="Permalink to &quot;Scenario: Task Management&quot;">​</a></h3><p>Automated task prioritization and organization:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Flag overdue tasks</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ANY tasks WHERE deadline &lt; &quot;{{today}}&quot; AND status != &quot;done&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE deadline &lt; &quot;{{today}}&quot; AND status != &quot;done&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET flagged true, status &quot;overdue&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks WHERE flagged = true MOVE TO START,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET needs_attention true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Archive completed tasks</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Condition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ALL tasks WHERE status = &quot;done&quot; AND completed_date &lt; &quot;{{today}}&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">FOR tasks WHERE status = &quot;done&quot; MOVE TO END,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        FOR tasks WHERE status = &quot;done&quot; SET archived true,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        SET all_tasks_current false</span></span></code></pre></div><h2 id="tips-best-practices" tabindex="-1">Tips &amp; Best Practices <a class="header-anchor" href="#tips-best-practices" aria-label="Permalink to &quot;Tips &amp; Best Practices&quot;">​</a></h2><h3 id="development-workflow" tabindex="-1">Development Workflow <a class="header-anchor" href="#development-workflow" aria-label="Permalink to &quot;Development Workflow&quot;">​</a></h3><ol><li><strong>Start Simple</strong>: Begin with basic conditions, add complexity incrementally</li><li><strong>Test Often</strong>: Use the test panel to verify before applying to files</li><li><strong>Use Dry Run</strong>: Preview changes before committing</li><li><strong>Check One File</strong>: Test on a single file before batch operations</li><li><strong>Keep Backups</strong>: Especially when learning complex patterns</li></ol><h3 id="debugging-techniques" tabindex="-1">Debugging Techniques <a class="header-anchor" href="#debugging-techniques" aria-label="Permalink to &quot;Debugging Techniques&quot;">​</a></h3><ol><li><strong>Break Down Complex Conditions</strong>: Test each part separately</li><li><strong>Use Type Checks</strong>: Verify data types match expectations</li><li><strong>Add Existence Checks</strong>: Always verify paths exist</li><li><strong>Check Test Output</strong>: Review diff to ensure expected changes</li><li><strong>Read Error Messages</strong>: They indicate exactly where things failed</li></ol><h3 id="pattern-library" tabindex="-1">Pattern Library <a class="header-anchor" href="#pattern-library" aria-label="Permalink to &quot;Pattern Library&quot;">​</a></h3><p>Build reusable patterns for common tasks:</p><ul><li><strong>Data validation</strong>: Type checks + existence verification</li><li><strong>Cleanup</strong>: Deduplicate + sort + remove unwanted</li><li><strong>Workflow</strong>: Status progression + metadata updates + notifications</li><li><strong>Organization</strong>: Group + sort + move + flag</li><li><strong>Archival</strong>: Mark + move + add tags + set dates</li></ul><h2 id="next-steps" tabindex="-1">Next Steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next Steps&quot;">​</a></h2><ul><li>Explore <a href="/obsidian-yaml-toolkit/guide/advanced-queries.html">Complex Queries</a> for sophisticated file selection</li><li>Review <a href="/obsidian-yaml-toolkit/guide/batch-operations.html">Batch Operations</a> for bulk processing</li><li>Check <a href="/obsidian-yaml-toolkit/reference/examples.html">Examples</a> for more real-world patterns</li><li>Consult <a href="/obsidian-yaml-toolkit/reference/syntax.html">Syntax Reference</a> for complete operator list</li></ul><hr><p><strong>Remember</strong>: Advanced techniques are powerful but require careful testing. Always verify on test files before applying to your entire vault.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/obsidian-yaml-toolkit/guide/rules.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Saved Rules</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/obsidian-yaml-toolkit/guide/advanced-queries.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Complex Queries</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Released under the MIT License.</p><p class="copyright" data-v-e315a0ad>Copyright © 2025 Karthikeyan.R</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_actions.md\":\"BERGMHbe\",\"guide_advanced-queries.md\":\"BcUKkJoU\",\"guide_advanced-techniques.md\":\"3P2ecMeP\",\"guide_batch-operations.md\":\"B3BAlSrJ\",\"guide_file-selection.md\":\"CsHi3NtU\",\"guide_getting-started.md\":\"aVOTjY2t\",\"guide_installation.md\":\"CwdWY8dX\",\"guide_quick-start.md\":\"DE0nAq9V\",\"guide_rules.md\":\"CQQCDPcG\",\"index.md\":\"CWm2gKVX\",\"reference_api.md\":\"DikcfQgx\",\"reference_examples.md\":\"Cc8hvshv\",\"reference_quick-reference.md\":\"_YFzWjXB\",\"reference_syntax.md\":\"BfICr7Hc\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"YAML Toolkit for Obsidian\",\"description\":\"Bulk manipulate YAML front matter with condition-based rules and preview\",\"base\":\"/obsidian-yaml-toolkit/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Guide\",\"link\":\"/guide/getting-started\"},{\"text\":\"Reference\",\"link\":\"/reference/quick-reference\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"Getting Started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/guide/getting-started\"},{\"text\":\"Installation\",\"link\":\"/guide/installation\"},{\"text\":\"Quick Start\",\"link\":\"/guide/quick-start\"}]},{\"text\":\"Core Concepts\",\"items\":[{\"text\":\"File Selection\",\"link\":\"/guide/file-selection\"},{\"text\":\"Actions\",\"link\":\"/guide/actions\"},{\"text\":\"Saved Rules\",\"link\":\"/guide/rules\"}]},{\"text\":\"Advanced\",\"items\":[{\"text\":\"Advanced Techniques\",\"link\":\"/guide/advanced-techniques\"},{\"text\":\"Complex Queries\",\"link\":\"/guide/advanced-queries\"},{\"text\":\"Batch Operations\",\"link\":\"/guide/batch-operations\"}]}],\"/reference/\":[{\"text\":\"Reference\",\"items\":[{\"text\":\"Quick Reference\",\"link\":\"/reference/quick-reference\"},{\"text\":\"Syntax Reference\",\"link\":\"/reference/syntax\"},{\"text\":\"Examples\",\"link\":\"/reference/examples\"},{\"text\":\"API\",\"link\":\"/reference/api\"}]},{\"text\":\"Actions Reference\",\"items\":[{\"text\":\"All Actions\",\"link\":\"/guide/actions\"},{\"text\":\"Core Action Operations\",\"link\":\"/guide/actions#core-action-operations\"},{\"text\":\"Array Operations\",\"link\":\"/guide/actions#array-operations\"},{\"text\":\"Array of Objects Operations\",\"link\":\"/guide/actions#array-of-objects-operations\"},{\"text\":\"Object Operations\",\"link\":\"/guide/actions#object-operations\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/ramnathk/obsidian-yaml-toolkit\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2025 Karthikeyan.R\"},\"search\":{\"provider\":\"local\"},\"outline\":{\"level\":[2,3],\"label\":\"On this page\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>